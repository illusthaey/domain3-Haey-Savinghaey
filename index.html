<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>개인용 업무 보조 - 대시보드</title>
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body>
  <div id="app-nav"></div>

  <main class="container">
    <h1>대시보드</h1>
    <p class="subtitle">데이터는 <code>data/store.json</code>에서만 관리합니다. (웹은 읽기 전용)</p>

    <div id="metaInfo" class="row wrap" style="gap:8px;"></div>

    <section class="section">
      <h2 class="local-h2">오늘 일정(상위 3건)</h2>
      <div id="todayList"></div>
      <div class="muted" style="margin-top:10px;">· 일정 추가/수정은 GitHub에서 <code>data/store.json</code> 편집</div>
    </section>

    <section class="section">
      <h2 class="local-h2">결재권자 복무상황</h2>
      <div id="approverList"></div>
      <div class="muted" style="margin-top:10px;">· 복무상황 갱신은 GitHub에서 <code>approvers.status</code> 편집</div>
    </section>

    <section class="section">
      <h2 class="local-h2">즐겨찾기(상위 6건)</h2>
      <div id="favList"></div>
      <div class="muted" style="margin-top:10px;">· 즐겨찾기 관리는 GitHub에서 <code>favorites.items</code> 편집</div>
    </section>

    <section class="section">
      <h2 class="local-h2">편람 빠른 검색(상위 5건)</h2>
      <input type="text" id="manualMiniQ" placeholder="예: 예산 / 계약 / 2026 ..." />
      <div id="manualMiniList" style="margin-top:10px;"></div>
      <div class="muted" style="margin-top:10px;">· 편람 목록은 GitHub에서 <code>manuals.list</code> 편집</div>
    </section>
  </main>

  <footer class="site-footer"><div class="shell"><p>© 2026. 개인용 업무보조 페이지 · 읽기 전용</p></div></footer>

  <script src="/static/app.js"></script>
  <script src="/static/dashboard.js"></script>
  <script>
    App.mountNav();
    Dashboard.init().catch(err => {
      console.error(err);
      document.querySelector(".container").insertAdjacentHTML(
        "afterbegin",
        `<div class="section"><div class="muted">데이터 로드 실패: data/store.json 경로 및 GitHub Pages 배포 상태를 확인하세요.</div></div>`
      );
    });
  </script>
</body>
</html>
